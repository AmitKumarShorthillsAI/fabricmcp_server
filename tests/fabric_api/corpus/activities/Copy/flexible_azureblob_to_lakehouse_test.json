{
  "id": "Copy/flexible_azureblob_to_lakehouse_test",
  "activity": {
    "name": "AzureBlob_to_Lakehouse_Test",
    "type": "Copy",
    "typeProperties": {
      "source": {
        "type": "DelimitedTextSource",
        "storeSettings": {
          "type": "AzureBlobStorageReadSettings",
          "recursive": true,
          "wildcardFolderPath": "data/",
          "wildcardFileName": "*.csv"
        },
        "formatSettings": {
          "type": "DelimitedTextReadSettings",
          "skipLineCount": 0
        },
        "datasetSettings": {
          "type": "DelimitedText",
          "typeProperties": {
            "location": {
              "type": "AzureBlobStorageLocation"
            }
          },
          "externalReferences": {
            "connection": "test_azureblob_connection"
          }
        }
      },
      "sink": {
        "type": "LakehouseFileSink",
        "storeSettings": {
          "type": "LakehouseWriteSettings",
          "copyBehavior": "PreserveHierarchy"
        },
        "formatSettings": {
          "type": "DelimitedTextWriteSettings",
          "quoteAllText": false,
          "fileExtension": ".csv"
        },
        "datasetSettings": {
          "type": "LakehouseFile",
          "typeProperties": {
            "location": {
              "type": "LakehouseLocation"
            }
          },
          "linkedService": {
            "name": "test_lakehouse",
            "properties": {
              "type": "Lakehouse",
              "typeProperties": {
                "artifactId": "test_lakehouse_id",
                "workspaceId": "4be6c4a0-4816-478d-bdc1-7bda19c32bc6"
              }
            }
          }
        }
      },
      "enableStaging": false
    }
  },
  "requirements": {
    "connections": ["AzureBlobStorage"],
    "linkedServices": ["Lakehouse"]
  },
  "expected": {
    "updateDefinition": [200, 202],
    "runnable": false
  },
  "notes": "Testing flexible Azure Blob Storage to Lakehouse File pattern"
}
